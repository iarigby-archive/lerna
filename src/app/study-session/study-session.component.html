<div>
  <div *ngIf="!session">
    <div>
      <div>start page: </div>
      <!-- <input></input> -->
      <mat-form-field>
        <input matInput #page type="number"/>
      </mat-form-field>
      <button mat-raised-button color="primary" (click)="start_session(page.value)">start</button>
    </div>
  </div>
  <!-- button available if book has another session with finished page -->
  <div *ngIf="session">
    <div> started: {{session.segments[0].start}} </div>
    <div> study time:
      <!-- TODO "duration:" needs to be removed or replaced (example, you've been studying for:) -->
      <!-- TODO why is it 1 hour when it starts? -->
      <span *ngIf="duration.getHours() - 1"> {{duration.getHours()}} hours </span>
      <span *ngIf="duration.getMinutes()"> {{duration.getMinutes()}} minutes </span>
      <span *ngIf="duration.getSeconds()"> {{duration.getSeconds()}} seconds </span>
      <!--TODO find efficient way to automatically refresh and display-->
    </div>
    <div *ngIf="breaks_count">
       breaks: {{breaks_count}} for {{breaks_duration.getSeconds()}}
    </div>
    <div>
      <button mat-raised-button color="primary" *ngIf="!this.session.segments[0].end" (click)="pause_session()">pause</button>
      <button mat-raised-button color="primary" *ngIf="this.session.segments[0].end" (click)="resume_session()">resume</button>
    </div>
    
    <!-- 
      pause and skip
        skip:
          will create a new segment. when calculating breaks, 
          breaks less then a minute will be ignored
          for this purpose (or have some other way of differenciating
          breaks and skips)
          when skip starts, start page and end page are 'partially'
          skipped (so in stats it will count as half) 
          and the other ones are completely skipped
     -->
    <button mat-raised-button color="primary" (click)="refresh()">refresh duration</button>
    <button mat-raised-button color="primary" (click)="finishSession()">finish session</button>
    <div>
      current position: {{this.session.segments[0].end_position.type}} {{this.session.segments[0].end_position.index}}
      <button mat-raised-button color="primary" (click)="increasePosition()">+</button>
    </div>
  </div>
</div>